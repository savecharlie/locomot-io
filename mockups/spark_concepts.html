<!DOCTYPE html>
<html>
<head>
    <title>Train Turn Spark Concepts</title>
    <style>
        body { background: #0a0610; color: #fff; font-family: monospace; padding: 20px; }
        .row { margin-bottom: 30px; }
        h1 { color: #0f0; }
        h2 { color: #ff0; font-size: 14px; margin-top: 30px; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .concept { display: inline-block; margin: 10px; text-align: center; vertical-align: top; }
        canvas { border: 1px solid #333; background: #0a0610; }
        h3 { color: #0ff; font-size: 11px; margin: 5px 0; }
        p { color: #888; font-size: 10px; max-width: 150px; margin: 5px auto; }
    </style>
</head>
<body>
    <h1>ðŸš‚ Train Turn Spark Concepts</h1>

    <h2>ARC BURST VARIATIONS (Based on C)</h2>

    <div class="concept">
        <h3>C1: Tight Arc Burst</h3>
        <canvas id="c1" width="150" height="150"></canvas>
        <p>Sparks in 90Â° arc behind turn</p>
    </div>

    <div class="concept">
        <h3>C2: Wide Spray</h3>
        <canvas id="c2" width="150" height="150"></canvas>
        <p>120Â° spray with velocity</p>
    </div>

    <div class="concept">
        <h3>C3: Dense Shower</h3>
        <canvas id="c3" width="150" height="150"></canvas>
        <p>Many small sparks, tight arc</p>
    </div>

    <div class="concept">
        <h3>C4: Streak Lines</h3>
        <canvas id="c4" width="150" height="150"></canvas>
        <p>Long streak sparks</p>
    </div>

    <div class="concept">
        <h3>C5: Gradient Fade</h3>
        <canvas id="c5" width="150" height="150"></canvas>
        <p>Fading intensity across arc</p>
    </div>

    <div class="concept">
        <h3>C6: Double Layer</h3>
        <canvas id="c6" width="150" height="150"></canvas>
        <p>Inner hot, outer cool</p>
    </div>

    <div class="concept">
        <h3>C7: Blocky Pixels</h3>
        <canvas id="c7" width="150" height="150"></canvas>
        <p>Retro pixel sparks</p>
    </div>

    <div class="concept">
        <h3>C8: Rail Scrape</h3>
        <canvas id="c8" width="150" height="150"></canvas>
        <p>Ground-hugging arc</p>
    </div>

    <h2>C4 x C7 HYBRIDS (Pixel Streaks)</h2>

    <div class="concept">
        <h3>H1: Pixel Streaks</h3>
        <canvas id="h1" width="150" height="150"></canvas>
        <p>Blocky lines that fade</p>
    </div>

    <div class="concept">
        <h3>H2: Stacked Pixels</h3>
        <canvas id="h2" width="150" height="150"></canvas>
        <p>Pixel trail segments</p>
    </div>

    <div class="concept">
        <h3>H3: Dithered Fade</h3>
        <canvas id="h3" width="150" height="150"></canvas>
        <p>Retro dither gradient</p>
    </div>

    <div class="concept">
        <h3>H4: Chunky Bolts</h3>
        <canvas id="h4" width="150" height="150"></canvas>
        <p>Thick pixel lightning</p>
    </div>

    <div class="concept">
        <h3>H5: Pixel Rain</h3>
        <canvas id="h5" width="150" height="150"></canvas>
        <p>Falling pixel streaks</p>
    </div>

    <div class="concept">
        <h3>H6: 8-bit Comet</h3>
        <canvas id="h6" width="150" height="150"></canvas>
        <p>Pixel head + fade tail</p>
    </div>

<script>
const GRID = 12;

function drawTrain(ctx, x, y, color) {
    ctx.fillStyle = color;
    ctx.fillRect(x - GRID/2, y - GRID/2, GRID, GRID);
    ctx.strokeStyle = '#fff';
    ctx.lineWidth = 1;
    ctx.strokeRect(x - GRID/2, y - GRID/2, GRID, GRID);
}

// C1: Tight Arc Burst - 90Â° arc behind turn point
(function() {
    const ctx = document.getElementById('c1').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#0f0');

    // 90Â° arc of sparks (pointing back-left for a right turn)
    const cx = 75, cy = 72;
    const startAngle = Math.PI * 0.5;  // down
    const endAngle = Math.PI;           // left

    for (let i = 0; i < 12; i++) {
        const t = i / 11;
        const angle = startAngle + t * (endAngle - startAngle);
        const dist = 8 + Math.random() * 15;
        const x = cx + Math.cos(angle) * dist;
        const y = cy + Math.sin(angle) * dist;

        ctx.fillStyle = Math.random() > 0.3 ? '#ff0' : '#f80';
        ctx.shadowColor = '#ff0';
        ctx.shadowBlur = 4;
        ctx.beginPath();
        ctx.arc(x, y, 1.5 + Math.random(), 0, Math.PI * 2);
        ctx.fill();
    }
    ctx.shadowBlur = 0;
})();

// C2: Wide Spray - 120Â° with velocity lines
(function() {
    const ctx = document.getElementById('c2').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#f0f');

    const cx = 75, cy = 72;
    const startAngle = Math.PI * 0.4;
    const endAngle = Math.PI * 1.1;

    for (let i = 0; i < 10; i++) {
        const t = i / 9;
        const angle = startAngle + t * (endAngle - startAngle);
        const dist = 12 + Math.random() * 18;
        const x = cx + Math.cos(angle) * dist;
        const y = cy + Math.sin(angle) * dist;

        // Velocity line
        ctx.strokeStyle = `rgba(255, ${150 + Math.random() * 100}, 0, 0.8)`;
        ctx.shadowColor = '#ff0';
        ctx.shadowBlur = 3;
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(cx + Math.cos(angle) * 8, cy + Math.sin(angle) * 8);
        ctx.lineTo(x, y);
        ctx.stroke();

        // Spark head
        ctx.fillStyle = '#fff';
        ctx.beginPath();
        ctx.arc(x, y, 2, 0, Math.PI * 2);
        ctx.fill();
    }
    ctx.shadowBlur = 0;
})();

// C3: Dense Shower - many small sparks
(function() {
    const ctx = document.getElementById('c3').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#0ff');

    const cx = 75, cy = 72;

    for (let i = 0; i < 30; i++) {
        const angle = Math.PI * 0.5 + Math.random() * Math.PI * 0.6;
        const dist = 5 + Math.random() * 20;
        const x = cx + Math.cos(angle) * dist;
        const y = cy + Math.sin(angle) * dist;

        const colors = ['#ff0', '#fa0', '#f80', '#fff'];
        ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
        ctx.shadowColor = ctx.fillStyle;
        ctx.shadowBlur = 2;

        const size = 1 + Math.random() * 1.5;
        ctx.fillRect(x - size/2, y - size/2, size, size);
    }
    ctx.shadowBlur = 0;
})();

// C4: Streak Lines - long sparks
(function() {
    const ctx = document.getElementById('c4').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#ff0');

    const cx = 75, cy = 72;

    for (let i = 0; i < 8; i++) {
        const angle = Math.PI * 0.55 + (i / 7) * Math.PI * 0.5;
        const len = 15 + Math.random() * 12;

        const grad = ctx.createLinearGradient(
            cx, cy,
            cx + Math.cos(angle) * len,
            cy + Math.sin(angle) * len
        );
        grad.addColorStop(0, '#fff');
        grad.addColorStop(0.3, '#ff0');
        grad.addColorStop(1, 'transparent');

        ctx.strokeStyle = grad;
        ctx.lineWidth = 2;
        ctx.shadowColor = '#ff0';
        ctx.shadowBlur = 4;
        ctx.beginPath();
        ctx.moveTo(cx + Math.cos(angle) * 6, cy + Math.sin(angle) * 6);
        ctx.lineTo(cx + Math.cos(angle) * len, cy + Math.sin(angle) * len);
        ctx.stroke();
    }
    ctx.shadowBlur = 0;
})();

// C5: Gradient Fade - fading intensity
(function() {
    const ctx = document.getElementById('c5').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#f80');

    const cx = 75, cy = 72;

    for (let i = 0; i < 15; i++) {
        const t = i / 14;
        const angle = Math.PI * 0.5 + t * Math.PI * 0.6;
        const dist = 10 + Math.random() * 12;
        const x = cx + Math.cos(angle) * dist;
        const y = cy + Math.sin(angle) * dist;

        // Fade from bright to dim across arc
        const brightness = 1 - t * 0.7;
        ctx.fillStyle = `rgba(255, ${200 * brightness}, 0, ${brightness})`;
        ctx.shadowColor = `rgba(255, 200, 0, ${brightness})`;
        ctx.shadowBlur = 4 * brightness;

        const size = 3 * brightness + 1;
        ctx.beginPath();
        ctx.arc(x, y, size, 0, Math.PI * 2);
        ctx.fill();
    }
    ctx.shadowBlur = 0;
})();

// C6: Double Layer - inner hot, outer cool
(function() {
    const ctx = document.getElementById('c6').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#5f5');

    const cx = 75, cy = 72;

    // Outer layer - orange/red
    for (let i = 0; i < 10; i++) {
        const angle = Math.PI * 0.5 + (i / 9) * Math.PI * 0.5;
        const dist = 18 + Math.random() * 8;
        const x = cx + Math.cos(angle) * dist;
        const y = cy + Math.sin(angle) * dist;

        ctx.fillStyle = Math.random() > 0.5 ? '#f80' : '#f50';
        ctx.shadowColor = '#f80';
        ctx.shadowBlur = 3;
        ctx.beginPath();
        ctx.arc(x, y, 1.5, 0, Math.PI * 2);
        ctx.fill();
    }

    // Inner layer - white/yellow (hotter)
    for (let i = 0; i < 8; i++) {
        const angle = Math.PI * 0.55 + (i / 7) * Math.PI * 0.4;
        const dist = 8 + Math.random() * 6;
        const x = cx + Math.cos(angle) * dist;
        const y = cy + Math.sin(angle) * dist;

        ctx.fillStyle = Math.random() > 0.5 ? '#fff' : '#ff0';
        ctx.shadowColor = '#fff';
        ctx.shadowBlur = 5;
        ctx.beginPath();
        ctx.arc(x, y, 2, 0, Math.PI * 2);
        ctx.fill();
    }
    ctx.shadowBlur = 0;
})();

// C7: Blocky Pixels - retro style
(function() {
    const ctx = document.getElementById('c7').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#f0f');

    const cx = 75, cy = 72;
    const pixelSize = 4;

    for (let i = 0; i < 12; i++) {
        const angle = Math.PI * 0.5 + (i / 11) * Math.PI * 0.55;
        const dist = 8 + Math.floor(Math.random() * 4) * pixelSize;
        let x = cx + Math.cos(angle) * dist;
        let y = cy + Math.sin(angle) * dist;

        // Snap to pixel grid
        x = Math.floor(x / pixelSize) * pixelSize;
        y = Math.floor(y / pixelSize) * pixelSize;

        const colors = ['#ff0', '#fa0', '#fff'];
        ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
        ctx.fillRect(x, y, pixelSize, pixelSize);
    }
})();

// C8: Rail Scrape - ground hugging
(function() {
    const ctx = document.getElementById('c8').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#0ff');

    // Ground line
    ctx.strokeStyle = '#333';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(30, 72);
    ctx.lineTo(120, 72);
    ctx.stroke();

    const cx = 75, cy = 70;

    // Sparks along ground in arc
    for (let i = 0; i < 14; i++) {
        const t = i / 13;
        const x = cx - 5 + t * 25;
        const y = cy + 2 + Math.sin(t * Math.PI) * 8;

        ctx.fillStyle = Math.random() > 0.4 ? '#ff0' : '#fa0';
        ctx.shadowColor = '#ff0';
        ctx.shadowBlur = 3;

        // Small bounce sparks
        ctx.beginPath();
        ctx.arc(x, y, 1 + Math.random(), 0, Math.PI * 2);
        ctx.fill();
    }
    ctx.shadowBlur = 0;
})();

// ========== C4 x C7 HYBRIDS ==========

// H1: Pixel Streaks - blocky lines that fade
(function() {
    const ctx = document.getElementById('h1').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#0f0');

    const cx = 75, cy = 72;
    const px = 3; // pixel size

    for (let i = 0; i < 7; i++) {
        const angle = Math.PI * 0.55 + (i / 6) * Math.PI * 0.5;
        const len = 4 + Math.floor(Math.random() * 3);

        for (let j = 0; j < len; j++) {
            const dist = 6 + j * px;
            let x = cx + Math.cos(angle) * dist;
            let y = cy + Math.sin(angle) * dist;

            // Snap to grid
            x = Math.floor(x / px) * px;
            y = Math.floor(y / px) * px;

            // Fade alpha
            const alpha = 1 - (j / len) * 0.8;
            const colors = ['#fff', '#ff0', '#fa0'];
            const c = colors[Math.min(j, colors.length - 1)];
            ctx.fillStyle = c;
            ctx.globalAlpha = alpha;
            ctx.fillRect(x, y, px, px);
        }
    }
    ctx.globalAlpha = 1;
})();

// H2: Stacked Pixels - pixel trail segments
(function() {
    const ctx = document.getElementById('h2').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#f0f');

    const cx = 75, cy = 72;
    const px = 4;

    for (let i = 0; i < 6; i++) {
        const angle = Math.PI * 0.5 + (i / 5) * Math.PI * 0.5;
        const segments = 3 + Math.floor(Math.random() * 2);

        for (let j = 0; j < segments; j++) {
            const dist = 8 + j * (px + 2);
            let x = cx + Math.cos(angle) * dist;
            let y = cy + Math.sin(angle) * dist;

            x = Math.floor(x / px) * px;
            y = Math.floor(y / px) * px;

            // Color gradient: white -> yellow -> orange
            if (j === 0) ctx.fillStyle = '#fff';
            else if (j === 1) ctx.fillStyle = '#ff0';
            else ctx.fillStyle = '#f80';

            ctx.fillRect(x, y, px, px);
        }
    }
})();

// H3: Dithered Fade - retro dither gradient
(function() {
    const ctx = document.getElementById('h3').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#ff0');

    const cx = 75, cy = 72;
    const px = 2;

    for (let i = 0; i < 8; i++) {
        const angle = Math.PI * 0.5 + (i / 7) * Math.PI * 0.55;

        for (let j = 0; j < 12; j++) {
            const dist = 6 + j * px;
            let x = cx + Math.cos(angle) * dist;
            let y = cy + Math.sin(angle) * dist;

            x = Math.floor(x / px) * px;
            y = Math.floor(y / px) * px;

            // Dither: skip some pixels based on distance
            const skipChance = j / 15;
            if (Math.random() < skipChance) continue;

            // Color based on distance
            if (j < 3) ctx.fillStyle = '#fff';
            else if (j < 6) ctx.fillStyle = '#ff0';
            else if (j < 9) ctx.fillStyle = '#fa0';
            else ctx.fillStyle = '#f80';

            ctx.fillRect(x, y, px, px);
        }
    }
})();

// H4: Chunky Bolts - thick pixel lightning
(function() {
    const ctx = document.getElementById('h4').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#0ff');

    const cx = 75, cy = 72;
    const px = 4;

    for (let i = 0; i < 5; i++) {
        const baseAngle = Math.PI * 0.55 + (i / 4) * Math.PI * 0.45;
        let x = cx, y = cy;

        // Draw jagged bolt
        for (let j = 0; j < 4; j++) {
            const jitter = (Math.random() - 0.5) * 0.3;
            const angle = baseAngle + jitter;
            const step = px + 1;

            x += Math.cos(angle) * step;
            y += Math.sin(angle) * step;

            const gx = Math.floor(x / px) * px;
            const gy = Math.floor(y / px) * px;

            // Fade color
            if (j === 0) ctx.fillStyle = '#fff';
            else if (j === 1) ctx.fillStyle = '#ff0';
            else ctx.fillStyle = '#f80';

            ctx.fillRect(gx, gy, px, px);
        }
    }
})();

// H5: Pixel Rain - falling pixel streaks
(function() {
    const ctx = document.getElementById('h5').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#f80');

    const cx = 75, cy = 72;
    const px = 3;

    for (let i = 0; i < 10; i++) {
        const angle = Math.PI * 0.4 + (i / 9) * Math.PI * 0.7;
        const len = 2 + Math.floor(Math.random() * 4);

        for (let j = 0; j < len; j++) {
            const dist = 8 + j * px;
            let x = cx + Math.cos(angle) * dist;
            let y = cy + Math.sin(angle) * dist + j * 1; // slight downward drift

            x = Math.floor(x / px) * px;
            y = Math.floor(y / px) * px;

            const alpha = 1 - j / (len + 1);
            ctx.globalAlpha = alpha;

            if (j === 0) ctx.fillStyle = '#fff';
            else ctx.fillStyle = '#ff0';

            ctx.fillRect(x, y, px, px);
        }
    }
    ctx.globalAlpha = 1;
})();

// H6: 8-bit Comet - pixel head + fade tail
(function() {
    const ctx = document.getElementById('h6').getContext('2d');
    ctx.fillStyle = '#0a0610';
    ctx.fillRect(0, 0, 150, 150);

    drawTrain(ctx, 75, 60, '#5f5');

    const cx = 75, cy = 72;
    const px = 3;

    for (let i = 0; i < 6; i++) {
        const angle = Math.PI * 0.5 + (i / 5) * Math.PI * 0.5;
        const tailLen = 3 + Math.floor(Math.random() * 3);

        // Tail (fading small pixels)
        for (let j = tailLen; j >= 0; j--) {
            const dist = 8 + j * (px - 1);
            let x = cx + Math.cos(angle) * dist;
            let y = cy + Math.sin(angle) * dist;

            x = Math.floor(x / px) * px;
            y = Math.floor(y / px) * px;

            const alpha = 0.3 + (1 - j / tailLen) * 0.7;
            ctx.globalAlpha = alpha;

            if (j === 0) {
                // Head - bigger and white
                ctx.fillStyle = '#fff';
                ctx.fillRect(x - 1, y - 1, px + 2, px + 2);
            } else {
                ctx.fillStyle = j < tailLen / 2 ? '#ff0' : '#f80';
                ctx.fillRect(x, y, px - 1, px - 1);
            }
        }
    }
    ctx.globalAlpha = 1;
})();
</script>
</body>
</html>
